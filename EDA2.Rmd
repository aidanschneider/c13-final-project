---
title: "R Notebook"
output: html_notebook
a---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Cmd+Shift+Enter*. 

```{r}
plot(cars)
```a---
title: "EDA for c13"
authors: "Aidan Schneider, Amir Osorio, Danny Kennen"
output:
  github_document:
    toc: true
---

```{r}
library(tidyverse)
library(dplyr)
```

Import data files

```{r}
# import child mortality csv
df_child_mortality <- read_csv("./data_files/child_mortality_0_5_year_olds_dying_per_1000_born.csv")

# " daily income csv
df_daily_income <- read_csv("./data_files/mincpcap_cppp.csv")

# " life expectancy at birth csv
df_life_expectancy <- read_csv("./data_files/life_exp.csv")

# " population growth csv
df_pop_growth <- read_csv("./data_files/population_growth_annual_percent.csv")

# " fertility csv
df_fertility <- read_csv("./data_files/children_per_woman_total_fertility.csv")

# " c02 emissions csv
df_co2emissions <- read_csv("./data_files/co2_pcap_cons.csv")

# " population csv
df_population <- read_csv("./data_files/pop.csv")

```


Factors we want to examine for quality of life: 

- child mortality
- daily income
- GDP-per-capita
- life expectancy at birth 
- population growth
- fertility
- c02 emissions
- population 

Make EDA plots here!:

```{r}
# df_pop graphs for soviet bloc countries 


# if you need to filter for only post-communist countries, use the list below:
# ("Armenia", "Azerbaijan", "Belarus", "Estonia", "Georgia", "Kazakhstan", "Kyrgyzstan", "Latvia", "Lithuania", "Moldova", "Russia", "Tajikistan", "Turkmenistan", "Ukraine", "Uzbekistan", "Serbia", "Croatia", "Bosnia and Herzegovina", "Slovenia", "Montenegro", "North Macedonia", "Albania", "Bulgaria", "Romania", "Poland", "Germany", "Czechia", "Slovakia", "Hungary")
df_pop <- df_population %>% 
  pivot_longer(
    cols = -country,
    names_to = "year",
    values_to = "population"
  ) %>%
  # converts values such as "400k" and "1.28M" to "400,000" and "1,280,000"
  mutate(
    population_numeric = case_when(
      str_detect(population, "k") ~ as.numeric(str_replace(population, "k", "")) * 1e3,
      str_detect(population, "M") ~ as.numeric(str_replace(population, "M", "")) * 1e6,
      str_detect(population, "B") ~ as.numeric(str_replace(population, "B", "")) * 1e9,
      TRUE ~ as.numeric(population)
    )
  ) %>% 
  # filters out all years after 2025 as they are predictions
  filter(year <= 2025)

#NOTE: TO ANALYZE A NEW COUNTRY, MAKE A NEW DATAFRAME FILTERING FOR THE COUNTRY
#YOU ARE TRYING TO ANALYZE 

# example population code 
df_albania <- df_pop %>% 
  filter(country == "Albania") 

df_albania %>% 
  ggplot(aes(x = as.numeric(year), y = population_numeric)) +
  geom_line()


```

```{r}

# use this dataframe for analysis 

df_daily <- df_daily_income %>% 
   pivot_longer(
    cols = -country,
    names_to = "year",
    values_to = "income_perp"
  ) 

countries <- c("Armenia", "Azerbaijan", "Belarus", "Estonia", "Georgia", "Kazakhstan", "Kyrgyzstan", "Latvia", "Lithuania", "Moldova", "Russia", "Tajikistan", "Turkmenistan", "Ukraine", "Uzbekistan", "Serbia", "Croatia", "Bosnia and Herzegovina", "Slovenia", "Montenegro", "North Macedonia", "Albania", "Bulgaria", "Romania", "Poland", "Germany", "Czechia", "Slovakia", "Hungary")

df_incomed <- df_daily %>% 
  filter(country %in% countries)

df_incomed
  
df_incomed %>% 
  ggplot(aes(x = as.numeric(year), y = income_perp)) +
  geom_line(color = )

```

```{r}

```




Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file). 

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.

